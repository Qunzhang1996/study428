## 问题

哈希表的原理是什么？

## 哈希表

哈希表（hash table）是一种通过关键字（key）和值（value）进行访问的数据结构。

既然要访问，那肯定需要知道访问的内容存放在哪里，所以这就需要通过一种映射关系将访问元素的关键字和元素的存储地址关联起来，而这种映射关系就是通过哈希函数来实现的。

## 哈希函数

在元素的关键字 k 和元素的存储位置 p 之间建立一个对应关系 f，使得 $p=f(k)$，这个对应关系 f 就称为哈希函数。

按照这种对应关系，在创建哈希表时，将关键字为 k 的元素存放在地址为 $f(k)$ 的单元上；之后若需要查找关键字 k 时，再利用哈希函数计算出该元素的存储位置 $p=f(k)$，就可以直接获取到该元素了。

那我们怎么知道这个映射关系 f 是什么呢？那就需要自己构造一个这样的哈希函数了。

**哈希函数的构造原则：**

①函数本身便于计算；

②计算出来的地址分布均匀，即对任一关键字 $k$，$f(k)$对应不同地址的概率相等，目的是尽可能减少冲突。

如下介绍5种构造哈希函数的方法：

#### 1.数字分析法

如果事先知道关键字集合，并且每个关键字的位数比哈希表的地址码位数多时，可以从关键字中选出分布较均匀的若干位，构成哈希地址。

#### 2.平方取中法

当无法确定关键字中哪几位分布较均匀时，可以先求出关键字的平方值，然后按需要取平方值的中间几位作为哈希地址。

#### 3.分段叠加法

这种方法是按哈希表地址位数将关键字分成位数相等的几部分（最后一部分可以较短），然后将这几部分相加，舍弃最高进位后的结果就是该关键字的哈希地址。

#### 4.除留余数法

假设哈希表长为 $m$，$p$ 为小于等于 $m$的最大素数，则哈希函数为：
$$
H(k)=k\%p,\ \ 其中\%为取余运算
$$
![](https://i.loli.net/2020/05/24/uHRTsWiXhVqn9zG.png)

#### 5.伪随机数法

采用一个伪随机函数做哈希函数，即 $H(key)=random(key)$。


